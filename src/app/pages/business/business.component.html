
<nz-card [nzTitle]="cardTitle" [nzExtra]="tabExtraTpl">
  <ng-template #cardTitle>
    <i nz-icon nzType="branches"></i>  Business
  </ng-template>
  <ng-template #tabExtraTpl>
    <button nz-button nzType="primary" (click)="openDrawer(undefined)" class="add-button"><i nz-icon nzType="plus"></i>Add Business</button>
  </ng-template>
  <div nz-row [nzGutter]="32" nzJustify="center">
    <div nz-col nzSpan="16">
      <nz-table #businessList [nzData]="business" nzTableLayout="fixed"
                nzSize="small"
                [nzFrontPagination]="false"
                [nzTotal]="totalElements"
                [(nzPageIndex)]="pageNumber"
                [(nzPageSize)]="pageSize"
                nzShowPagination
                nzShowSizeChanger
                nzShowQuickJumper
                (nzPageIndexChange)	="loadBusiness()"
                (nzPageSizeChange)="loadBusiness(true)">
        <thead>
        <tr>
          <th nzAlign="center">#</th>
          <th nzCustomFilter nzAlign="center">
            name
            <nz-filter-trigger [(nzVisible)]="visible"
                               [nzActive]="searchValue.length > 0"
                               [nzDropdownMenu]="menu">
              <i nz-icon nzType="search"></i>
            </nz-filter-trigger>
          </th>
          <th nzAlign="center">Action</th>
        </tr>
        </thead>
        <tbody>
        <tr *ngFor="let data of businessList.data; let i = index">
          <td nzAlign="center" >{{ i + 1 }}</td>
          <td nzAlign="center"><b>{{ data.name }}</b></td>
          <td nzAlign="center" >
            <div  nz-row>
              <div   nz-col nzSpan="8"></div>
              <div   nz-col nzSpan="4">
                <i class="edit-btn"    nz-icon nzType="edit"  (click)="openDrawer(data.id)"   nzTheme="outline" nz-tooltip="edit"></i>
              </div>
              <div   nz-col nzSpan="4">  </div>
              <div  nz-col nzSpan="4">
                <a nz-popconfirm nzPopconfirmTitle="Are you sure delete this task?"
                   (nzOnConfirm)="deleteBusiness(data.id)" (nzOnCancel)="cancel()"  >
                  <i class="delete-button" nzTooltipColor="red"  nz-icon nzType="delete" nzTheme="outline"  nz-tooltip="delete"></i>
                </a>
              </div>
              <div   nz-col nzSpan="4">  </div>
            </div>
          </td>
        </tr>
        </tbody>
      </nz-table>
    </div>
  </div>

  <nz-dropdown-menu #menu="nzDropdownMenu">
    <div class="ant-table-filter-dropdown">
      <div class="search-box">
        <input type="text" nz-input placeholder="Search name" [(ngModel)]="searchValue" />
        <button nz-button nzSize="small" nzType="primary" (click)="searchBusiness()" class="search-button">Search</button>
        <button nz-button nzSize="small" (click)="resetBusiness()">Reset</button>
      </div>
    </div>
  </nz-dropdown-menu>

</nz-card>
